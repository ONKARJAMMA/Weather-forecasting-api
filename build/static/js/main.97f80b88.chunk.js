(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{2:function(e,t){e.exports={key:"a57a760b0956e0f0284de69af7f403cd",base:"https://api.openweathermap.org/data/2.5/"}},22:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(16),c=a.n(i),s=(a(22),a(2)),l=a.n(s),o=a(17),m=a.n(o),h=a(4),u=a.n(h),d=a(3),p=a.n(d);var E=function(e){const[t,a]=Object(n.useState)(""),[i,c]=Object(n.useState)(""),[s,o]=Object(n.useState)({}),[m,h]=Object(n.useState)([]),d=e=>{(e=>{u.a.get(`${l.a.base}weather?q=${"[object Object]"!==e?e:t}&units=metric&APPID=${l.a.key}`).then((e=>{o(e.data),a("")})).catch((e=>{console.log(e),o(""),a(""),c({message:"Not Found",query:t})}))})(e),(e=>{u.a.get(`${l.a.base}forecast?q=${"[object Object]"!==e?e:t}&units=metric&APPID=${l.a.key}`).then((e=>{h(e.data.list),a("")})).catch((e=>{console.log(e),h([]),a(""),c({message:"Not Found",query:t})}))})(e)};Object(n.useEffect)((()=>{d("Delhi")}),[]);const E="white",g=112,y=!0;return r.a.createElement("div",{className:"forecast"},r.a.createElement("div",{className:"forecast-icon"},r.a.createElement(p.a,{icon:e.icon,color:E,size:g,animate:y})),r.a.createElement("div",{className:"today-weather"},r.a.createElement("h3",null,e.weather),r.a.createElement("div",{className:"search-box"},r.a.createElement("input",{type:"text",className:"search-bar",placeholder:"Search any city",onChange:e=>a(e.target.value),value:t}),r.a.createElement("div",{className:"img-box"},r.a.createElement("img",{src:"https://images.avishkaar.cc/workflow/newhp/search-white.png",onClick:()=>d(t)}))),r.a.createElement("ul",null,"undefined"!==typeof s.main?r.a.createElement("div",null,r.a.createElement("li",{className:"cityHead"},r.a.createElement("p",null,s.name,", ",s.sys.country),r.a.createElement("img",{className:"temp",src:`https://openweathermap.org/img/wn/${s.weather[0].icon}.png`})),r.a.createElement("li",null,"Temperature"," ",r.a.createElement("span",{className:"temp"},Math.round(s.main.temp),"\xb0c (",s.weather[0].main,")")),r.a.createElement("li",null,"Humidity"," ",r.a.createElement("span",{className:"temp"},Math.round(s.main.humidity),"%")),r.a.createElement("li",null,"Visibility"," ",r.a.createElement("span",{className:"temp"},Math.round(s.visibility)," mi")),r.a.createElement("li",null,"Wind Speed"," ",r.a.createElement("span",{className:"temp"},Math.round(s.wind.speed)," Km/h"))):r.a.createElement("li",null,i.query," ",i.message)),r.a.createElement("h3",null,"FIVE DAY PREDICTION"),r.a.createElement("div",{className:"forecast-container"},m.length>0?m.filter(((e,t)=>t%8===0)).map(((e,t)=>r.a.createElement("div",{key:t,className:"forecast-item"},r.a.createElement("p",null,new Date(e.dt_txt).toLocaleDateString()),r.a.createElement("img",{src:`https://openweathermap.org/img/wn/${e.weather[0].icon}.png`,alt:"Weather Icon"}),r.a.createElement("p",null,Math.round(e.main.temp),"\xb0c (",e.weather[0].main,")")))):"Loading forecast...")))},g=a.p+"static/media/WeatherIcons.c90d089e.gif";const y="white",v=112,w=!0;class b extends r.a.Component{constructor(){super(...arguments),this.state={lat:void 0,lon:void 0,errorMessage:void 0,temperatureC:void 0,temperatureF:void 0,city:void 0,country:void 0,humidity:void 0,description:void 0,icon:"CLEAR_DAY",sunrise:void 0,sunset:void 0,errorMsg:void 0},this.getPosition=e=>new Promise((function(t,a){navigator.geolocation.getCurrentPosition(t,a,e)})),this.getWeather=async(e,t)=>{const a=await fetch(`${l.a.base}weather?lat=${e}&lon=${t}&units=metric&APPID=${l.a.key}`),n=await a.json();switch(this.setState({lat:e,lon:t,city:n.name,temperatureC:Math.round(n.main.temp),temperatureF:Math.round(1.8*n.main.temp+32),humidity:n.main.humidity,main:n.weather[0].main,country:n.sys.country}),this.state.main){case"Haze":default:this.setState({icon:"CLEAR_DAY"});break;case"Clouds":this.setState({icon:"CLOUDY"});break;case"Rain":this.setState({icon:"RAIN"});break;case"Snow":this.setState({icon:"SNOW"});break;case"Dust":case"Tornado":this.setState({icon:"WIND"});break;case"Drizzle":this.setState({icon:"SLEET"});break;case"Fog":case"Smoke":this.setState({icon:"FOG"})}}}componentDidMount(){navigator.geolocation?this.getPosition().then((e=>{this.getWeather(e.coords.latitude,e.coords.longitude)})).catch((e=>{this.getWeather(28.67,77.22),alert("You have disabled location service. Allow 'This APP' to access your location. Your current location will be used for calculating Real time weather.")})):alert("Geolocation not available"),this.timerID=setInterval((()=>this.getWeather(this.state.lat,this.state.lon)),6e5)}componentWillUnmount(){clearInterval(this.timerID)}render(){return this.state.temperatureC?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"city"},r.a.createElement("div",{className:"title"},r.a.createElement("h2",null,this.state.city),r.a.createElement("h3",null,this.state.country)),r.a.createElement("div",{className:"mb-icon"}," ",r.a.createElement(p.a,{icon:this.state.icon,color:y,size:v,animate:w}),r.a.createElement("p",null,this.state.main)),r.a.createElement("div",{className:"date-time"},r.a.createElement("div",{className:"dmy"},r.a.createElement("div",{id:"txt"}),r.a.createElement("div",{className:"current-time"},r.a.createElement(m.a,{format:"HH:mm:ss",interval:1e3,ticking:!0})),r.a.createElement("div",{className:"current-date"},`${["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][(e=new Date).getDay()]}, ${e.getDate()} ${["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]} ${e.getFullYear()}`)),r.a.createElement("div",{className:"temperature"},r.a.createElement("p",null,this.state.temperatureC,"\xb0",r.a.createElement("span",null,"C"))))),r.a.createElement(E,{icon:this.state.icon,weather:this.state.main})):r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:g,style:{width:"50%",WebkitUserDrag:"none"}}),r.a.createElement("h3",{style:{color:"white",fontSize:"22px",fontWeight:"600"}},"Detecting your location"),r.a.createElement("h3",{style:{color:"white",marginTop:"10px"}},"Your current location wil be displayed on the App ",r.a.createElement("br",null)," & used for calculating Real time weather."));var e}}var f=b;a(50);var N=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement(f,null)),r.a.createElement("div",{className:"footer-info"},r.a.createElement("a",{href:"https://github.com/ONKARJAMMA/REALTIME-WEATHER-FORECASTING-USING-API"},"Download Source Code")," ","| Developed by"," ",r.a.createElement("a",{target:"_blank",href:"https://www.linkedin.com/in/onkar-jamma-616010258/",rel:"noopener noreferrer"},"ONKAR JAMMA")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()})).catch((e=>{console.error(e.message)}))}},[[51,1,2]]]);
//# sourceMappingURL=main.97f80b88.chunk.js.map